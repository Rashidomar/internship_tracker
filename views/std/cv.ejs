<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Student Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="../css/styles2.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> -->
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }
        
        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
        
        .b-example-divider {
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }
        
        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
        }
        
        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }
        
        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }
        
        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }
        
        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
        
        .b-example-divider {
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }
        
        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
        }
        
        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }
        
        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }
        
        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>

<body>
    <div class="container">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <svg class="bi me-2" width="40" height="32">
                    <use xlink:href="#bootstrap" /></svg>
                <span class="fs-4">Internship Tracker</span>
            </a>
            <ul class="nav nav-pills">
                <li class="nav-item"><a href="/logout" class="nav-link">Sign Out</a></li>
            </ul>
        </header>
    </div>
    <div id="gen" class="container py-4">    
        <div class="p-3 mb-4 bg-light rounded-3">
          <div class="container">
            <div class="row">
            <h3 class="col"><%=user.firstname%>&nbsp<%=user.firstname%></h3>
            <h3 class="col"><%=user.email%></h3>
            <h3 class="col"><%=user.school%></h3>
            <h3 class="col"><%=user.course%></h3>
        </div>
        </div>
        <h3 class="py-4">Your Internships</h3>
        <% interns.forEach(function(intern){ %>
            <% if (intern.user_id  == user.id) { %>
        <div class="container-fluid py-2">
            <h4 class="col-md-10 fs-5">Your postion. <%=intern.role%></h4>
            <h5 class="col-md-12 fs-5">The company did your internship. <%=intern.company%></h5>
            <p class="col-md-12 fs-5">The task you were suppsoe to handle. <%=intern.task%></p>
            <p class="col-md-12 fs-6">PLease state your experience. Using a series of utilities, 
                you can create this jumbotron, just like the one in previous versions of Bootstrap. 
                Check out the examples below for how you can remix and restyle it to your liking. <%=intern.experience%></p>
            <p class="col-md-8 fs-4">How long did your internship last. <%=intern.duration%></p>
          </div>
          <% } %>
        <%})%>
        <br>
        <h3 >Your Projects</h3>
        <% projects.forEach(function(project){ %>
            <% if (project.user_id  == user.id) { %>
        <div class="container-fluid py-3">
            <h4 class="col-md-10 fs-5">Your postion. <%=project.p_name%></h4>
            <p class="col-md-12 fs-5">The task you were suppsoe to handle. <%=project.url%></p>
            <p class="col-md-12 fs-6">PLease state your experience. Using a series of utilities, 
                you can create this jumbotron, just like the one in previous versions of Bootstrap. 
                Check out the examples below for how you can remix and restyle it to your liking. <%=project.description%></p>
            <p class="col-md-8 fs-4">How long did your internship last. <%=project.duration%></p>
          </div>
          <% } %>
        <%})%>
        </div>
    </div>
    <div class="container py-4">   
    <div class="col-md-6">
        <button class="btn btn-outline-secondary" onclick="genCV()" type="button">Generate CV</button>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js " crossorigin="anonymous "></script>
    <script src="../js/scripts.js "></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js "></script>
    <script>

        function genCV(){
        // Default export is a4 paper, portrait, using millimeters for units
        const doc = new jsPDF();

        let htmlelement = $("#gen").html()
        // console.log(htmlelement)
        doc.fromHTML(htmlelement,10,10,{
            'width':180
        })
        // doc.text("Hello world!", 10, 10);
        doc.save("a4.pdf");
        };

    </script>

</body>

</html>

</html>

</html>

</html>